define ("mod_peerforum/posts_list",["jquery","core/templates","core/notification","core/pending","core/yui","mod_peerforum/selectors","mod_peerforum/inpage_reply"],function(a,b,c,d,e,f,g){var h=function(h){h.on("click",f.post.inpageReplyLink,function(h){h.preventDefault();if(window.location.hash){var i=window.location.href.split("#")[0];history.pushState({},document.title,i)}var j=new d("inpage-reply"),k=a(h.currentTarget).parents(f.post.peerforumCoreContent),l=k.find(f.post.peerforumSubject),m=a(h.currentTarget).parents(f.post.peerforumContent),n={postid:a(m).data("post-id"),reply_url:a(h.currentTarget).attr("href"),sesskey:M.cfg.sesskey,parentsubject:l.data("replySubject"),canreplyprivately:a(h.currentTarget).data("can-reply-privately"),postformat:g.CONTENT_FORMATS.MOODLE};if(!m.find(f.post.inpageReplyContent).length){b.render("mod_peerforum/inpage_reply",n).then(function(a,c){return b.appendNodeContents(k,a,c)}).then(function(){return m.find(f.post.inpageReplyContent).slideToggle(300,j.resolve).find("textarea").focus()}).then(function(){e.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.init({formid:"inpage-reply-".concat(n.postid)})})}).fail(c.exception)}else{var o=m.find(f.post.inpageReplyContent);o.slideToggle(300,j.resolve);if(o.is(":visible")){o.find("textarea").focus()}}});h.on("click",f.post.peergradeListLink,function(b){b.preventDefault();if(window.location.hash){var c=window.location.href.split("#")[0];history.pushState({},document.title,c)}var e=new d("peergrade-collapsable"),g=a(b.currentTarget).parents(f.post.peerforumContent),h=g.find(f.post.peergradeListContent);h.slideToggle(300,e.resolve);if(h.is(":visible")){h.find("textarea").focus()}});h.on("click",f.post.peergradeConfigLink,function(b){b.preventDefault();if(window.location.hash){var c=window.location.href.split("#")[0];history.pushState({},document.title,c)}var e=new d("peergrade-config-collapsable"),g=a(b.currentTarget).parents(f.post.peerforumContent),h=g.find(f.post.peergradeConfigContent);h.slideToggle(300,e.resolve);if(h.is(":visible")){h.find("textarea").focus()}})};return{init:function init(a){h(a);g.init(a)}}});
//# sourceMappingURL=posts_list.min.js.map
